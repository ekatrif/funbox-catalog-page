(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0);let t=document.getElementById("products");!async function(){let e=await fetch("./files/products.json"),s=await e.json();for(let e of s.products){let s,d;s=e.productNumberMices<=1?"":e.productNumberMices,d=e.isCustomerHappy?"<br>заказчик доволен":"";let i,c,o,r,l,n,a="Котэ не одобряет?";e.isDisabled&&(i="description__wrapper_disabled"),c=e.isDisabled?"description__weight_disabled":"description__weight_default",o=e.isDisabled?"description_disabled":"description_default",r=e.isDisabled?"class='display-none'":" ",l=e.isDisabled?" ":"class='display-none'",n=e.isDisabled?"body__product-card__link_disabled":"";let _=`<div class="body__product-card">\n<div class="body__product-card__description description ${o}">\n  <div class="description__wrapper">\n  <img src="${e.productPhoto}" alt="">\n  <div class="description__subtitle ${i}"><span>${e.productSubtitle}</span><span class="display-none description__subtitle_selected">${a}</span></div>\n  <div class="description__title ${i}">${e.productTitle}</div>\n  <div class="description__taste ${i}">${e.productTaste}</div>\n  <div class="description__comment ${i}"><span>${e.productNumberPortions}</span> порций<br>${s} мышь в подарок${d}</div>\n  <div class="description__weight ${c}">\n    <div class="description__weight__number">${e.productWeight}</div>\n    <div class="description__weight__units">кг</div>\n  </div>\n</div>\n</div>\n<div class="body__product-card__link link ${n}">\n<span ${r}>Чего сидишь? Порадуй котэ, <a class="link__a" href="${e.productLink}">купи.</a></span>\n<span class="display-none" >${e.selectedText}</span>\n<span  ${l}>Печалька, ${e.productTaste} закончился.</span>\n</div>\n</div>`;t.innerHTML+=_}}();let s=document.getElementById("products"),d=!1,i=!1;s.addEventListener("click",(function(e){if((e.target.classList.contains("link__a")||!e.target.closest(".body__product-card__link"))&&(!e.target.closest(".body__product-card")||!e.target.closest(".body__product-card").querySelectorAll(".description_disabled")[0])){if(e.preventDefault(),e.target.closest(".body__product-card")&&(e.target.closest(".body__product-card").querySelectorAll(".body__product-card__description")[0].classList.toggle("description_selected"),e.target.closest(".body__product-card").querySelectorAll(".body__product-card__description")[0].classList.toggle("description_default"),e.target.closest(".body__product-card").querySelectorAll(".body__product-card__description")[0].querySelectorAll(".description__weight")[0].classList.toggle("description__weight_selected"),e.target.closest(".body__product-card").querySelectorAll(".body__product-card__description")[0].querySelectorAll(".description__weight")[0].classList.toggle("description__weight_default")),e.target.closest(".body__product-card")){let t=e.target.closest(".body__product-card").querySelectorAll(".body__product-card__link")[0].querySelectorAll("span");for(let e of[...t])e.classList.toggle("display-none"),t[2].classList.toggle("display-none")}!function(){let e=document.querySelectorAll(".body__product-card");for(let t of[...e]){function s(e){let t=e.target.querySelectorAll(".description__subtitle")[0].querySelectorAll("span");for(let e of[...t])e.classList.toggle("display-none")}t.addEventListener("mouseleave",(function(e){e.target.querySelectorAll(".body__product-card__description")[0].classList.contains("description_selected")&&(d||s(e),d=!0,i=!1)})),t.addEventListener("mouseenter",(function(e){e.target.querySelectorAll(".body__product-card__description")[0].classList.contains("description_selected")&&(i||s(e),i=!0,d=!1)}))}}(),d=!1,i=!1}})),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();