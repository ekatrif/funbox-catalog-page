(()=>{"use strict";let t=!1;setTimeout((()=>{if(t){let t=new Event("windowScroll");window.addEventListener("scroll",(function(e){document.dispatchEvent(t)}))}}),0);let e=document.getElementById("products");!async function(){let t=await fetch("./files/products.json"),s=await t.json();for(let t of s.products){let s,d;s=t.productNumberMices<=1?"":t.productNumberMices,d=t.isCustomerHappy?"<br>заказчик доволен":"";let i,c,o,r,l,n,a="Котэ не одобряет?";t.isDisabled&&(i="description__wrapper_disabled"),c=t.isDisabled?"description__weight_disabled":"description__weight_default",o=t.isDisabled?"description_disabled":"description_default",r=t.isDisabled?"class='display-none'":" ",l=t.isDisabled?" ":"class='display-none'",n=t.isDisabled?"body__product-card__link_disabled":"";let _=`<div class="body__product-card">\n<div class="body__product-card__description description ${o}">\n  <div class="description__wrapper">\n  <img src="${t.productPhoto}" alt="">\n  <div class="description__subtitle ${i}"><span>${t.productSubtitle}</span><span class="display-none description__subtitle_selected">${a}</span></div>\n  <div class="description__title ${i}">${t.productTitle}</div>\n  <div class="description__taste ${i}">${t.productTaste}</div>\n  <div class="description__comment ${i}"><span>${t.productNumberPortions}</span> порций<br>${s} мышь в подарок${d}</div>\n  <div class="description__weight ${c}">\n    <div class="description__weight__number">${t.productWeight}</div>\n    <div class="description__weight__units">кг</div>\n  </div>\n</div>\n</div>\n<div class="body__product-card__link link ${n}">\n<span ${r}>Чего сидишь? Порадуй котэ, <a class="link__a" href="${t.productLink}">купи.</a></span>\n<span class="display-none" >${t.selectedText}</span>\n<span  ${l}>Печалька, ${t.productTaste} закончился.</span>\n</div>\n</div>`;e.innerHTML+=_}}();let s=document.getElementById("products"),d=!1,i=!1;s.addEventListener("click",(function(t){if((t.target.classList.contains("link__a")||!t.target.closest(".body__product-card__link"))&&(!t.target.closest(".body__product-card")||!t.target.closest(".body__product-card").querySelectorAll(".description_disabled")[0])){if(t.preventDefault(),t.target.closest(".body__product-card")&&(t.target.closest(".body__product-card").querySelectorAll(".body__product-card__description")[0].classList.toggle("description_selected"),t.target.closest(".body__product-card").querySelectorAll(".body__product-card__description")[0].classList.toggle("description_default"),t.target.closest(".body__product-card").querySelectorAll(".body__product-card__description")[0].querySelectorAll(".description__weight")[0].classList.toggle("description__weight_selected"),t.target.closest(".body__product-card").querySelectorAll(".body__product-card__description")[0].querySelectorAll(".description__weight")[0].classList.toggle("description__weight_default")),t.target.closest(".body__product-card")){let e=t.target.closest(".body__product-card").querySelectorAll(".body__product-card__link")[0].querySelectorAll("span");for(let t of[...e])t.classList.toggle("display-none"),e[2].classList.toggle("display-none")}!function(){let t=document.querySelectorAll(".body__product-card");for(let e of[...t]){function s(t){let e=t.target.querySelectorAll(".description__subtitle")[0].querySelectorAll("span");for(let t of[...e])t.classList.toggle("display-none")}e.addEventListener("mouseleave",(function(t){t.target.querySelectorAll(".body__product-card__description")[0].classList.contains("description_selected")&&(d||s(t),d=!0,i=!1)})),e.addEventListener("mouseenter",(function(t){t.target.querySelectorAll(".body__product-card__description")[0].classList.contains("description_selected")&&(i||s(t),i=!0,d=!1)}))}}(),d=!1,i=!1}})),window.FLS=!0})();